<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.gameloft9.demo.dataaccess.dao.system.Tp_Democratic_RecordMapper">

    <resultMap id="DemoResultMap" type="com.gameloft9.demo.dataaccess.model.system.Tp_Democratic_Record">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Dec 04 11:17:43 CST 2017.
        -->
        <id column="recordId" property="recordId" jdbcType="INTEGER" />
        <result column="bigTitleId" property="bigTitleId" jdbcType="INTEGER" />
        <result column="releaseDate" property="releaseDate" jdbcType="TIMESTAMP" />
        <result column="id" property="id" jdbcType="INTEGER"/>

    </resultMap>
    <sql id="Demo_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Dec 04 11:17:43 CST 2017.
        -->
        recordId,bigTitleId,releaseDate,id
    </sql>
    <select id="findAll" resultMap="DemoResultMap">
SELECT
r.recordId,
b.bigTitle bigTitleId,
r.releaseDate,
res.resName id
FROM
tp_democratic_bigtitle AS b,
tp_democratic_record AS r,
tp_resourcelist AS res
WHERE
b.bigTitleId=r.bigTitleId
AND
r.id=res.id
    </select>
    <select id="selectAll" resultMap="DemoResultMap">
SELECT
r.recordId,
b.bigTitle bigTitleId,
r.releaseDate,
res.resName id
FROM
tp_democratic_bigtitle AS b,
tp_democratic_record AS r,
tp_resourcelist AS res
WHERE
b.bigTitleId=r.bigTitleId
AND
r.id=res.id
order by id,releaseDate desc
limit #{start,jdbcType=DECIMAL},#{end,jdbcType=DECIMAL}
    </select>
    <select id="countGetAll" resultType="int" parameterType="map">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Dec 04 11:17:05 CST 2017.
        -->
        select
        count(1)
        from tp_democratic_record
    </select>
<!--    <insert id="insert" parameterType="com.gameloft9.demo.dataaccess.model.system.Tp_Democratic_Record">-->
<!--        &lt;!&ndash;-->
<!--          WARNING - @mbggenerated-->
<!--          This element is automatically generated by MyBatis Generator, do not modify.-->
<!--          This element was generated on Mon Dec 04 11:17:05 CST 2017.-->
<!--        &ndash;&gt;-->
<!--        insert into tp_democratic_record (recordId,bigTitleId,releaseDate,id)-->
<!--        values (#{recordId,jdbcType=INTEGER}, #{bigTitleId,jdbcType=VARCHAR}, #{releaseDate,jdbcType=TIMESTAMP},-->
<!--        #{id,jdbcType=INTEGER})-->
<!--    </insert>-->
    <delete id="delete" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Dec 07 15:21:02 CST 2017.
        -->
        delete from tp_democratic_record
        where recordId = #{recordId,jdbcType=INTEGER}
    </delete>
<!--    <update id="update" parameterType="com.gameloft9.demo.dataaccess.model.system.Tp_Democratic_Record">-->
<!--        &lt;!&ndash;-->
<!--          WARNING - @mbggenerated-->
<!--          This element is automatically generated by MyBatis Generator, do not modify.-->
<!--          This element was generated on Mon Dec 04 11:17:05 CST 2017.-->
<!--        &ndash;&gt;-->
<!--        update tp_democratic_record-->
<!--        set-->
<!--        bigTitleId = #{bigTitleId,jdbcType=VARCHAR},-->
<!--        releaseDate = #{releaseDate,jdbcType=TIMESTAMP},-->
<!--        id = #{id,jdbcType=INTEGER}-->
<!--        where recordId = #{recordId,jdbcType=INTEGER}-->
<!--    </update>-->
    <update id="guanbi" parameterType="com.gameloft9.demo.dataaccess.model.system.Tp_Democratic_Record">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Dec 04 11:17:05 CST 2017.
        -->
        update tp_democratic_record
        set
        id = 36
        where recordId = #{recordId,jdbcType=INTEGER}
    </update>

    <insert id="insertbig" parameterType="com.gameloft9.demo.dataaccess.model.system.TpBigtitle" useGeneratedKeys="true" keyProperty="bigTitleId">
        insert into tp_democratic_bigtitle (bigTitle,`explain`,`number`)
        values (#{bigTitle},#{explain},#{number})
    </insert>

    <insert id="intsersubtitle" parameterType="com.gameloft9.demo.dataaccess.model.system.TpSubtitleContent" useGeneratedKeys="true" keyProperty="subtitleId">
        insert into tp_democratic_subtitlecontent (bigTitleId,subtitleContent)
        values (#{bigTitleId},#{subtitleContent})
    </insert>

    <insert id="intserstandard" parameterType="com.gameloft9.demo.dataaccess.model.system.TpStandard" useGeneratedKeys="true" keyProperty="standardId">
        insert into tp_democratic_standard (subtitleId,standardName,id)
        values (#{subtitleId},#{standardName},#{id})
    </insert>

    <insert id="intsersubstandard" parameterType="com.gameloft9.demo.dataaccess.model.system.TpSubstandard" useGeneratedKeys="true" keyProperty="substandardId">
        insert into tp_democratic_substandard (standardId,substandardName)
        values (#{standardId},#{substandardName})
    </insert>

    <insert id="insertpralation" parameterType="com.gameloft9.demo.dataaccess.model.system.Tprelationship" useGeneratedKeys="true" keyProperty="rid">
        insert into tp_democratic_relationship (subtitleId,uid)
        values (#{subtitleId},#{uid})
    </insert>
<!--统计表的提交-->

    <insert id="insertpralationsub" parameterType="com.gameloft9.demo.dataaccess.model.system.TpSubtitleid"  useGeneratedKeys="true" keyProperty="tid">
        insert into tp_democratic_subtitleid (substandardId,id,uid,subtitleId)
        values (#{substandardId},#{id},#{uid},#{subtitleId})
    </insert>

    <insert id="insert" parameterType="com.gameloft9.demo.dataaccess.model.system.Tp_Democratic_Record" useGeneratedKeys="true" keyProperty="recordId">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Dec 04 11:17:05 CST 2017.
        -->
        insert into tp_democratic_record (bigTitleId,releaseDate,id)
        values (#{bigTitleId}, #{releaseDate}, #{id})
    </insert>

    <select id="selectByrecId" parameterType="Integer" resultType="java.lang.Integer">
        SELECT bigTitleId FROM  tp_democratic_record WHERE recordId=#{0}
    </select>

    <select id="findbysid" parameterType="Integer" resultType="java.lang.Integer">
        SELECT count(1) FROM tp_democratic_subtitleid  WHERE substandardId = #{substandardId,jdbcType=INTEGER}
    </select>

    <delete id="deletetj" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Dec 07 15:21:02 CST 2017.
        -->
        delete from tp_democratic_subtitleid
        where substandardId = #{substandardId,jdbcType=INTEGER}
    </delete>
<!--    页面删除账号表-->
    <delete id="deletesub" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Dec 07 15:21:02 CST 2017.
        -->
        delete from tp_democratic_verification
        where recordId = #{recordId,jdbcType=INTEGER}
    </delete>
</mapper>
